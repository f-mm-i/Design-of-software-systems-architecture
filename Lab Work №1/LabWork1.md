# Лабораторная работа №1  
**Тема:** Формулирование требований к программной системе  
**Проект:** мобильное приложение «Mental Maps» – приложение для рисования ментальных карт города во время путешествий
**Цель работы:** Научиться анализировать поставленную задачу и формулировать **функциональные** и **нефункциональные** требования к проектируемой системе на примере мобильного приложения «Mental Maps».

---

## Перечень заинтересованных лиц (стейкхолдеров)

- **Путешественник (основной пользователь)**  
  Хочет во время поездки создавать свою ментальную карту города: рисовать маршруты, отмечать места, добавлять фото/видео и личные заметки.

- **Модератор / администратор сервиса**  
  Отвечает за проверку публичных карт, обработку жалоб и блокировку некорректного контента.

- **Заказчик / продукт-оунер**  
  Формулирует бизнес-цели приложения, определяет приоритеты развития функционала и отвечает за монетизацию.

- **Команда разработки**  
  Реализует функционал, поддерживает приложение, исправляет ошибки и развивается продукт технически.

- **Маркетолог / аналитик**  
  Анализирует поведение пользователей, популярные функции, удержание и вовлечённость для дальнейшего развития продукта.

- **Платформы распространения (App Store, Google Play)**  
  Обеспечивают размещение и обновления приложения, выставляют требования к качеству и безопасности.

---

## Перечень функциональных требований

### 1. Управление пользователем и профилем

F01. Регистрация пользователя
Система должна позволять пользователю зарегистрировать учетную запись по e-mail и паролю, с валидацией формата e-mail и сложности пароля и подтверждением почты.

F02. Авторизация пользователя
Система должна предоставлять вход в учетную запись по e-mail/паролю и обеспечивать выход (logout) с устройства. Возможна интеграция с внешними провайдерами (Google, соцсети) в следующих релизах.

F03. Управление профилем
Пользователь может редактировать имя, аватар, краткое описание, предпочтения (темы, типы карт), просматривать список своих карт и базовую статистику (кол-во карт, просмотров, лайков — в будущих версиях).

### 2 Работа с ментальными картами

F4. Создание новой ментальной карты
Пользователь может создать одну или несколько карт, каждая из которых связана с конкретным городом/локацией и имеет название и описание.

F5. Рисование элементов карты
Приложение должно предоставлять холст для ручного рисования, поддерживающий:
- добавление линий (маршрутов, границ районов);
- рисование фигур и произвольных контуров;
- выбор цвета, толщины линии и типа «кисти».

F6. Добавление готовых значков (иконок)
Пользователь может добавлять предустановленные иконки (кафе, парк, музей, отель и т.п.) на карту, выбирать их цвет и размер, перемещать по холсту.

F7. Текстовые заметки
Пользователь может создавать текстовые подписи к объектам на карте:
- вводить текст;
- изменять размер шрифта, шрифт и цвет;
- перемещать текст по карте;
- редактировать и удалять текстовые элементы.

F8. История действий, Undo/Redo
Система должна поддерживать отмену и повтор действий (рисование, стирание, добавление/перемещение текста и иконок) для удобства работы с картой.

F9. Масштабирование и панорамирование карты
Пользователь может масштабировать карту (zoom in/out) и перемещать холст жестами (pinch, pan) без потери качества отрисовки.

F10. Сохранение и загрузка карт
Приложение должно сохранять карты пользователя (рисунки, иконки, текст, медиа, маршруты) в облаке (Firestore + Storage) и позволять загружать их при повторном входе и на разных устройствах.

F11. Экспорт карт
Пользователь может экспортировать готовую карту в формат, пригодный для печати и публикации в соцсетях (например, изображение высокого разрешения или PDF).

### 3 Мультимедиа и маршруты

F12. Прикрепление мультимедиа
Пользователь может прикреплять фотографии и видео к определенным точкам или областям карты:
- загрузка из галереи или с камеры;
- хранение файлов в облаке (Firebase Storage);
- просмотр прикрепленного медиа при выборе точки на карте.

F13. Работа с маршрутами
Пользователь может:
- строить маршруты между выбранными точками;
- добавлять описание к маршрутам (например, «маршрут на выходные»);
- хранить на одной карте несколько маршрутов.

### 4 Совместная работа и обмен картами

F14. Настройки приватности карты
Для каждой карты пользователь выбирает режим:
- личная (доступна только владельцу);
- доступ по ссылке (для друзей/семьи);
- публичная (попадает в общий каталог «лучших карт»).

F15. Совместное редактирование карт
Приложение должно поддерживать совместное редактирование карты несколькими пользователями (семья/друзья):
- приглашение других пользователей к совместной работе;
- синхронизация изменений между участниками.

F16. Просмотр и поиск публичных карт
Пользователь может просматривать публичные карты других людей, искать по городу, тегам, названию карты, авторам и отмечать понравившиеся (лайк/избранное — в будущих версиях).

### 5 Администрирование и модерация

F17. Модерация пользовательского контента
Модератор может:
- просматривать жалобы на карты и пользователей;
- скрывать или блокировать карты, нарушающие правила;
- блокировать или ограничивать учетные записи нарушителей.

F18. Управление каталогом «лучших карт»
Администратор/редактор может формировать подборки лучших карт, размещать их в витрине приложения и управлять видимостью отдельных карт.

---

## Диаграмма вариантов использования

![Диаграмма вариантов использования приложения «Mental Maps»](use-case.png)

---


## Перечень сделанных предположений

В постановке задачи и курсовой работе не все ограничения и детали зафиксированы явно, поэтому для формулирования требований сделаны следующие предположения:

**1. Поддерживаемые платформы**
Первая версия приложения работает на iOS и Android, поддерживая 2–3 последние мажорные версии ОС. Веб-версия не входит в текущий релиз.

**2. Сетевое подключение**
Основной сценарий использования — при наличии интернет-доступа. Базовый офлайн-режим (рисование и редактирование без синхронизации) необходим, но синхронизация данных происходит только при восстановлении подключения.

**3. Объем и тип данных**
- Объем загружаемых медиафайлов средний: до нескольких десятков фото/видео на одну карту.
- Сверхбольшие видео (> 200–300 МБ) не поддерживаются или автоматически сжимаются.

**4. Язык интерфейса**
Пилотная версия приложения предназначена для русскоязычных пользователей, но архитектура должна предусматривать возможность локализации (i18n) в следующих релизах.

**5. Модель монетизации**
В рамках текущей лабораторной работы монетизация (платные функции, подписки, реклама) не рассматривается и не влияет на перечень требований.

**6. Интеграции**
Интеграция с внешними туристическими сервисами (TripAdvisor и др.) и картографическими API (Google Maps, OpenStreetMap) в текущую реализацию напрямую не входит — используется собственный холст, имитирующий схему города, без реальной геолокации.

**7. Безопасность и персональные данные**
Считается, что приложение не хранит критически чувствительные данные (паспорт, платежные реквизиты). Основные риски связаны с e-mail, геоданными и фотографиями, поэтому достаточно шифрования трафика и базовых механизмов защиты аккаунта (пароль, при желании — 2FA в следующих релизах).

**8. Нагрузка и аудитория**
На первом этапе целевая аудитория — несколько тысяч активных пользователей, рост до десятков тысяч ожидается позже. Это влияет на требования по масштабируемости, но не требует изначально архитектуры на сотни тысяч одновременных сессий.

---

## Перечень нефункциональных требований

Из множества возможных нефункциональных требований выбраны 5 наиболее значимых для первой очереди реализации.

### NFR-1. Удобство использования (Usability)

Требование: Интерфейс приложения должен быть интуитивно понятен пользователям без технического опыта, ключевые сценарии (создание карты, добавление мест и медиа) должны выполняться не более чем в 3–5 шагов.

Обоснование: Основная целевая аудитория — путешественники, не готовые тратить много времени на обучение интерфейсу. В курсовой работе отдельно подчеркивается важность понятного UX, наличия обучения и пользовательских сценариев.

### NFR-2. Производительность и отзывчивость

Требование:
- Время отклика на действия рисования/перемещения элементов не должно превышать 100–200 мс на средних устройствах.
- Время отображения карты с типичным набором данных (десятки элементов и медиа-привязок) не должно превышать 2–3 секунд.

Обоснование: В курсовой работе указано требование минимизировать задержки при работе с картами и мультимедиа (не более 5 секунд). Для комфортного рисования фактические задержки должны быть заметно меньше.

### NFR-3. Надёжность и сохранность данных

Требование:
- Система должна обеспечивать сохранение карт без потери данных при нормальном использовании.
- При сбое сети/приложения локальные изменения не должны полностью теряться: необходим хотя бы периодический автосейв/кеширование.

Обоснование: Потеря ментальной карты с множеством ручных рисунков и медиа критична для пользователя и была отмечена как один из ключевых рисков (анализ рисков, диверсионный анализ).

### NFR-4. Безопасность и конфиденциальность

Требование:
- Весь сетевой трафик должен быть защищён (HTTPS/TLS).
- Доступ к картам с режимом «личная» должен быть возможен только для владельца учетной записи.
- Регистрация и авторизация должны обеспечивать защиту от банальных атак (подбор пароля, reuse токенов и т.д.).

Обоснование: В работе отдельно рассматриваются риски утечки личных данных и диверсионные сценарии (утечка, взлом, DDoS), что требует базовых мер безопасности уже в первой версии.

## NFR-5. Портативность и расширяемость

Требование:
- Архитектура клиентского приложения (React Native) и backend (Firebase) должна позволять реализовать новые функции (совместное редактирование, рейтинги карт, рекомендательные алгоритмы, расширенный каталог) без полной переработки системы.
- Код должен быть модульным, разделенным на слои (UI, логика рисования, работа с данными и сетью).

Обоснование: В курсовой подчеркивается выбор React Native и Firebase именно из-за возможности кроссплатформенности и дальнейшего расширения (релизы 2.0+), а также планы по использованию накопленных карт в рекомендательных сервисах.
